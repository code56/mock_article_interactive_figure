<!DOCTYPE HTML>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<html>
    <head>
    <title>jQuery $.getJSON() function and jQuery UI Autocomplete</title>
   <script src="https://code.jquery.com/jquery-3.1.0.js"
              integrity="sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk="
              crossorigin="anonymous"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>  

    <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js" ></script>
    <script src="https://code.jquery.com/ui/jquery-ui-git.js"></script>

    <link href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" rel="Stylesheet"></link>




        <script type="text/javascript">
        	
          
/*
                    // this is executed once, only after the page loads.
                    //desired url to query example: http://www.ebi.ac.uk/ols/api/select?q=potato&rows=10&ontology=po
            $(document).ready(function(){


                $('#test123').on('keypress', function(e){
                    var url = "http://www.ebi.ac.uk/ols/api/select?q=" + $(this).val() + "&rows=100&ontology=po"; 
                    console.log(url);
                    $.get( url, function( data ) {
                        console.log(data)
                        console.log(data.response.docs[0].id) // this is useful..
                        // x is each object returned from the OLS query being run. 
                        // must select what part of this object a function needs to be looking at for autocompleting the form. 
                        // would be the anatomy, dev. stage.
                        for(var x = 0; x <  data.response.docs.length; x++){
                            label = data.response.docs[x].label
                            console.log(data.response.docs[x].label) // use this label to be autompleting. // it would be best for them to be filterning whether dev. stage or anatomy separately. 
                        }
                    })
                    
                })

//create a div in the html and each time append that in
//jquery syntax for creating dom object. 
//for each iteration create a dom object and 
// p is the data.response.docs[x]   
//http://www.ebi.ac.uk/ols/v2/browse.do?ontName=PO&termId=PO%3A0020103&termName=flag%20leaf

    <script>*/
        function autocompletion() {
            
            var autocomplete_element = get_url();
            $( "#test123" ).autocomplete({
                source: autocomplete_element
            })    

            function get_url() {

                $('#test123').on('keypress', function(e){
                
                    var url = "http://www.ebi.ac.uk/ols/api/select?q=" + $(this).val() + "&rows=100&ontology=po"; 
                    console.log(url);
                    $.get( url, function( data ) {
                        console.log(data)
                        console.log(data.response.docs[0].id) // this is useful..
                                            // x is each object returned from the OLS query being run. 
                                            // must select what part of this object a function needs to be looking at for autocompleting the form. 
                                            // would be the anatomy, dev. stage.
                        var array_label = [];
                        for(var x = 0; x <  data.response.docs.length; x++){
                            label = data.response.docs[x].label
                            console.log(data.response.docs[x].label) // use this label to be autompleting. // it would be best for them to be filterning whether dev. stage or anatomy separately. 
                            // store the label value. 
                            array_label.push(label);
                        }
                        return array_label;
                    });              
                });   
            }
        
        };

        <!--        
       
        </script>



</head>
    <body>

        

        <div class="ui-widget">
            <label for="test123">Tags: </label>
            <input id="test123">
        </div>
 

<!--         this form works -->        
       
    
       
    </body>    

</html>